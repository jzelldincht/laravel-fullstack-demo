# auth 权限管理功能

## 登录

### routes/api.php

新建一个v1组，存入v1版本的接口。因为走的是api.php，当我们访问 http://fullstack.test/api 时才是正确的前缀。

```php 

use 

/**
 * http://fullstack.test/api/v1
 * 
 */
Route::group(['prefix' => 'v1', 'middleware' => 'auth.api'], function() {
    // post: login
    Route::match(['POST'], '/auth/login', [AuthController::class, 'login']);
    
});
```

### modules/Api/Http/Controllers/AuthController

```php 
<?php

namespace Modules\Api\Http\Controllers\v1;

use Modules\Api\Http\Controllers\ApiController;

/**
 * 必须继承 ApiController 这个Api模块的基类
 */
class AuthController extends ApiController
{
    
    /**
     * 用户登录方法
     */
    public function login(LoginRequest $request) {
        
    }

}
```

### 使用生成器生成 Request 文件

可参考 007 节中的知识。

```php 
php artisan module:make-request LoginRequest Api
```

### 创建 AuthAdmin 模型

需要继承`Illuminate\Foundation\Auth\User`和实现`JWTSubject` 

```php 

```
